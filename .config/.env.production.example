# Faceless YouTube - Production Environment Template
# USE ONLY IN PRODUCTION ENVIRONMENTS
# Store securely in Secret Manager / HashiCorp Vault
# DO NOT COMMIT THIS FILE TO VERSION CONTROL

# ===================================================================
# ENVIRONMENT (PRODUCTION)
# ===================================================================
ENVIRONMENT=production
DEBUG=false
TEST_MODE=false
LOG_LEVEL=WARNING
JSON_LOGS=true

# ===================================================================
# DATABASE (PostgreSQL - Production)
# ===================================================================
# Use strong passwords and SSL connections
# Format: postgresql://user:password@host:5432/dbname?sslmode=require
DATABASE_URL=postgresql://prod_user:STRONG_PASSWORD_HERE@prod-db.example.com:5432/faceless_youtube_prod
DB_ECHO=0
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30

# ===================================================================
# REDIS (Production - Cluster)
# ===================================================================
# Use Redis Sentinel or Cluster for HA
REDIS_URL=redis://:REDIS_PASSWORD@redis-cluster.example.com:6379/0
REDIS_SOCKET_TIMEOUT=10
REDIS_SOCKET_CONNECT_TIMEOUT=10

# ===================================================================
# MONGODB (Production - Replica Set)
# ===================================================================
# Use MongoDB replica set for HA and sharding
MONGODB_URI=mongodb://user:MONGO_PASSWORD@mongo1.example.com:27017,mongo2.example.com:27017,mongo3.example.com:27017/faceless_youtube_prod?replicaSet=rs0&ssl=true
MONGODB_DATABASE=faceless_youtube_prod

# ===================================================================
# AUTHENTICATION (Production)
# ===================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Store in secure vault - do not use default!
SECRET_KEY=GENERATE_SECURE_KEY_AND_STORE_IN_VAULT
AUTH_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15  # Shorter expiry in production

# ===================================================================
# AI/ML SERVICES (Production)
# ===================================================================
# Use production API keys from secret manager
ANTHROPIC_API_KEY=sk-ant-PRODUCTION_KEY_FROM_VAULT
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Optional: OpenAI for fallback
OPENAI_API_KEY=sk-PRODUCTION_KEY_FROM_VAULT

# ===================================================================
# API CONFIGURATION (Production)
# ===================================================================
# Restrict to production domain
CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
ALLOWED_HOSTS=yourdomain.com,app.yourdomain.com,api.yourdomain.com

# ===================================================================
# SECRETS MANAGEMENT (Production)
# ===================================================================
# Use HashiCorp Vault in production
SECRETS_BACKEND=vault
VAULT_ADDR=https://vault.yourdomain.com:8200
VAULT_TOKEN=STORE_IN_SECURE_CONTAINER_ORCHESTRATION
VAULT_NAMESPACE=production
VAULT_ENGINE=secret
VAULT_PATH=faceless-youtube

# ===================================================================
# SSL/TLS (Production)
# ===================================================================
# Use proper SSL certificates (not self-signed)
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.com.crt
SSL_KEY_PATH=/etc/ssl/private/yourdomain.com.key
SSL_VERIFY=true

# ===================================================================
# LOGGING (Production)
# ===================================================================
LOG_FILE=/var/log/faceless-youtube/app.log
LOG_LEVEL=WARNING
LOG_FORMAT=json  # Structured logging for log aggregation
LOG_RETENTION_DAYS=30

# ===================================================================
# MONITORING & OBSERVABILITY
# ===================================================================
# Prometheus metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# Datadog / APM integration (optional)
DATADOG_API_KEY=STORE_IN_VAULT
DATADOG_ENABLED=false

# ===================================================================
# RATE LIMITING (Production)
# ===================================================================
# Stricter limits in production
RATE_LIMIT_ENABLED=true
RATE_LIMIT_AUTH_ENDPOINT=5/minute
RATE_LIMIT_TRANSCRIPTION_ENDPOINT=5/minute
RATE_LIMIT_DATA_ENDPOINT=30/minute
RATE_LIMIT_DEFAULT=60/minute

# ===================================================================
# DEPLOYMENT SETTINGS
# ===================================================================
ENVIRONMENT_NAME=production
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_VERSION=2.0.0

# ===================================================================
# SECURITY HEADERS (Production)
# ===================================================================
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
CSP_REPORT_URI=https://yourdomain.com/csp-report

# ===================================================================
# ENCRYPTION (Database-level)
# ===================================================================
# Column-level encryption keys (store in Vault)
ENCRYPTION_KEY=STORE_DATABASE_ENCRYPTION_KEY_IN_VAULT
ENCRYPTION_ALGORITHM=AES-256-CBC

# ===================================================================
# AUDIT LOGGING (Production)
# ===================================================================
# Enable comprehensive audit logs for compliance
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90
AUDIT_LOG_DESTINATION=siem-system.example.com
AUDIT_LOG_ENCRYPTION=true

# ===================================================================
# ALERTS & NOTIFICATIONS
# ===================================================================
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/HERE
ALERT_EMAIL=ops@yourdomain.com
ALERT_PAGERDUTY_KEY=STORE_IN_VAULT

# ===================================================================
# IMPORTANT NOTES
# ===================================================================
#
# 1. NEVER commit this file to version control
# 2. Store all secrets in a secure secret manager (Vault, AWS Secrets, etc.)
# 3. Use strong, randomly-generated passwords (min 32 characters)
# 4. Rotate all secrets monthly
# 5. Enable MFA for all access
# 6. Audit all changes to this configuration
# 7. Use TLS 1.3 for all connections
# 8. Enable database encryption at rest
# 9. Monitor all access and changes via audit logs
# 10. Have a security incident response plan ready
#
